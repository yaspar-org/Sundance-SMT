(declare-sort %% 0)
(declare-sort P 0)
(declare-fun % () Bool)
(declare-sort T 0)
(declare-sort D 0)
(declare-const $ D)
(declare-fun a (P T) Bool)
(declare-datatypes ((li 0) (lib! 0)) (((li)) ((lib))))
(declare-const T T)
(declare-const Y T)
(declare-fun P (%%) P)
(declare-fun %P (P) %%)
(declare-fun o () P)
(declare-fun l (li) P)
(declare-fun ol (lib!) P)
(declare-fun %% (%% P) P)
(declare-fun v () P)
(declare-fun s () Bool)
(declare-fun vs () P)
(declare-fun t () P)
(declare-fun i (P) li)
(declare-fun st () P)
(declare-fun b (D T P P P) Bool)
(declare-fun ib (D T P) lib!)
(declare-fun vst () P)
(declare-fun %%l () %%)
(declare-fun la () %%)
(declare-fun %l () %%)
(declare-fun p () lib!)
(assert (forall ((k P)) (! (not (b $ Y k (ol lib) (ol lib))) :pattern ((b $ Y k (ol lib) (ol p))))))
;(assert (= la (%P (P la))))
(assert (= s (b $ Y (ol lib) (ol lib) (ol (ib $ Y vst)))))
(declare-const k P)
(assert (not (= (%% %%l k) vs)))
(assert (= (ite s vst vs) (%% %%l k)))
;(assert (= s %))
(check-sat)
