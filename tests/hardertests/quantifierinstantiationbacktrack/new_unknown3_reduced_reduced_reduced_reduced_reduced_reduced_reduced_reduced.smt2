(declare-sort P 0)
(declare-fun I (Int) P)
(declare-fun h (P) Bool)
(declare-fun e (P) Bool)
(declare-datatypes ((b 0)) (((i (ib P)))))
(declare-fun b (P) Int)
(declare-fun o (P) P)
(declare-fun % (P) P)
(declare-fun P (b) P)
(declare-fun %P (P) b)
(declare-fun l (P) P)
(declare-fun ol (P) P)
(assert (forall ((x P)) (! (= x (% x)) :pattern ((h x)))))
(assert (forall ((x b)) (! (= x (%P (P x))) :pattern ((P x)))))
(assert (forall ((r P)) (! (h (P (i r))) :pattern ((P (i r))))))
(declare-fun v (P) P)
(declare-fun vs (P) P)
(declare-fun li (P P) P)
(assert (forall ((f P)) (! (h (vs f)) :pattern ((vs f)))))
(assert (forall ((t P) (e P)) (! (= (li t e) (% (vs t))) :pattern ((li t e)))))
(assert (forall ((s P)) (! (= (v s) (P (i (li (I 0) (I (b (ol s))))))) :pattern ((v s)))))
(declare-const s P)
(declare-const se P)
(assert (e (ib (%P (v (l s))))))
(assert (not (h (ib (%P (v (l se)))))))

(check-sat)
