(declare-sort P 0)
(declare-fun I (Int) P)
(declare-fun h (P) Bool)
;(declare-datatypes ((b 0)) (((i (ib P)))))
(declare-sort b 0)
(declare-fun i (P) b)
(declare-fun ib (b) P)
(declare-fun tester-isi (b) Bool)
(declare-fun b (P) Int)
(declare-fun P (b) P)
(declare-fun % (P) b)
(declare-const s P)
(declare-fun v (P) P)
(declare-fun vs (P) P)
(declare-fun l (P P) P)
(assert (forall ((x b)) (! (= x (% (P x))) :pattern ((P x)))))
(assert (forall ((r P)) (! (h (P (i r))) :pattern ((P (i r))))))
(assert (forall ((f P)) (! (h (vs f)) :pattern ((vs f)))))
(assert (forall ((t P) (e P)) (! (= (vs t) (l t e)) :pattern ((l t e)))))
(assert (forall ((s P)) (! (= (v s) (P (i (l (I 0) (I (b s)))))) :pattern ((v s)))))
(assert (= (% (vs s)) (% (v s))))
(assert (not (h (ib (% (v (vs s)))))))
                    (assert (tester-isi (% (vs s))))
                    (assert (tester-isi (% (v s))))
                    (assert (tester-isi (% (v (vs s)))))
                    (assert (tester-isi (i (ib (% (vs s))))))
                    (assert (tester-isi (i (ib (% (vs s))))))
                    (assert (= (ib (i (ib (% (vs s))))) (ib (% (vs s)))))
                    (assert (=> (tester-isi (% (vs s))) (= (% (vs s)) (i (ib (% (vs s)))))))
                    (assert (tester-isi (i (ib (% (v s))))))
                    (assert (tester-isi (i (ib (% (v s))))))
                    (assert (= (ib (i (ib (% (v s))))) (ib (% (v s)))))
                    (assert (=> (tester-isi (% (v s))) (= (% (v s)) (i (ib (% (v s)))))))
                    (assert (tester-isi (i (ib (% (v (vs s)))))))
                    (assert (tester-isi (i (ib (% (v (vs s)))))))
                    (assert (= (ib (i (ib (% (v (vs s)))))) (ib (% (v (vs s))))))
                    (assert (=> (tester-isi (% (v (vs s)))) (= (% (v (vs s))) (i (ib (% (v (vs s))))))))

                    (assert (tester-isi (i (l (I 0) (I (b s))))))
                    (assert (tester-isi (i (l (I 0) (I (b s))))))
                    (assert (= (ib (i (l (I 0) (I (b s))))) (l (I 0) (I (b s)))))
                    (assert (tester-isi (i (l (I 0) (I (b (vs s)))))))
                    (assert (tester-isi (i (l (I 0) (I (b (vs s)))))))
                    (assert (= (ib (i (l (I 0) (I (b (vs s)))))) (l (I 0) (I (b (vs s))))))
                    (assert (tester-isi (% (P (i (l (I 0) (I (b s))))))))

                    (assert (tester-isi (i (ib (% (P (i (l (I 0) (I (b s))))))))))
                    (assert (tester-isi (i (ib (% (P (i (l (I 0) (I (b s))))))))))
                    (assert (= (ib (i (ib (% (P (i (l (I 0) (I (b s))))))))) (ib (% (P (i (l (I 0) (I (b s)))))))))
                    (assert (=> (tester-isi (% (P (i (l (I 0) (I (b s))))))) (= (% (P (i (l (I 0) (I (b s)))))) (i (ib (% (P (i (l (I 0) (I (b s)))))))))))


(check-sat)
