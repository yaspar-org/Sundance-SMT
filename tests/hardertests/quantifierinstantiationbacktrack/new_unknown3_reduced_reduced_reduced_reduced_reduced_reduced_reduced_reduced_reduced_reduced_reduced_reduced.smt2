(declare-sort P 0)
(declare-fun I (Int) P)
(declare-fun h (P) Bool)
;(declare-sort P 0)
(declare-fun i (P) P)
(declare-fun ib (P) P)
(declare-fun b1 (P) Int)
(declare-fun P (P) P)
(declare-fun % (P) P)
(declare-const s P)
(declare-fun v (P) P)
(declare-fun vs (P) P)
(declare-fun l (P P) P)
(assert (forall ((r P)) (! (h (P (i r))) :pattern ((P (i r))))))
(assert (forall ((f P)) (! (h (vs f)) :pattern ((vs f)))))
(assert (forall ((t P) (e P)) (! (= (vs t) (l t e)) :pattern ((l t e)))))
(assert (not (h (ib (vs s)))))
(assert (= s (i (ib s))))
(assert (= (ib (i (I 0))) (l (I 0) (I (b1 s)))))
(assert (= (i (I 0)) (P (i (I 0)))))
(assert (= (vs s) (P (i (l (I 0) (I (b1 (vs s))))))))
(assert (= s (P (i (I 0)))))
;(assert (not (= (P (vs s)) 0)))

        ;(assert (h (vs s)))
        ;(assert (= (vs (I 0)) (l (I 0) (I (P s)))))
        ;(assert (h (vs (I 0))))

    ; for some reason this instantiation gets skipped over
    ;(assert (= (vs (I 0)) (l (I 0) (I (P (vs s))))))
(check-sat)
