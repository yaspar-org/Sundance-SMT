(declare-sort %%Function%% 0)
(declare-sort Poly 0)
(declare-fun B (Bool) Poly)
(declare-fun %B (Poly) Bool)
(declare-sort Type 0)
(declare-const BOOL Type)
(declare-sort Dcr 0)
(declare-const $ Dcr)
(declare-fun has_type (Poly Type) Bool)
(declare-fun mk_fun (%%Function%%) %%Function%%)
(assert (forall ((x %%Function%%)) (! (= (mk_fun x) x) :pattern ((mk_fun x)))))
(assert (forall ((x Bool)) (! (= x (%B (B x))) :pattern ((B x)))))
(declare-sort alloc!vec.Vec<u8./allocator_global%.>. 0)
(declare-sort alloc!vec.Vec<lib!io_t.EndPoint./allocator_global%.>. 0)
(declare-sort vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. 0)
(declare-sort vstd!raw_ptr.DynMetadata. 0)
(declare-sort vstd!raw_ptr.Provenance. 0)
(declare-sort vstd!seq.Seq<u8.>. 0)
(declare-datatypes ((core!option.Option. 0) (vstd!raw_ptr.Metadata. 0) (vstd!raw_ptr.PtrData. 0) (d_v.StrictlyOrderedVec. 0) (d_v.StrictlyOrderedMap. 0) (d_v.DM. 0) (lib!end.pt. 0) (d_t.AD. 0) (lib!io_t.EndPoint. 0) (lib!keys_t.Ordering. 0) (lib!keys_t.KeyIterator. 0) (lib!keys_t.KeyRange. 0) (lib!keys_t.SHTKey. 0) (tuple%0. 0) (tuple%2. 0)) (((core!option.Option./None) (core!option.Option./Some (core!option.Option./Some/?0 Poly))) ((vstd!raw_ptr.Metadata./Thin) (vstd!raw_ptr.Metadata./Length (vstd!raw_ptr.Metadata./Length/?0 Int)) (vstd!raw_ptr.Metadata./Dyn (vstd!raw_ptr.Metadata./Dyn/?0 vstd!raw_ptr.DynMetadata.))) ((vstd!raw_ptr.PtrData./PtrData (vstd!raw_ptr.PtrData./PtrData/?addr Int) (vstd!raw_ptr.PtrData./PtrData/?provenance vstd!raw_ptr.Provenance.) (vstd!raw_ptr.PtrData./PtrData/?metadata vstd!raw_ptr.Metadata.))) ((d_v.StrictlyOrderedVec./StrictlyOrderedVec (d_v.StrictlyOrderedVec./StrictlyOrderedVec/?v Poly))) ((d_v.StrictlyOrderedMap./StrictlyOrderedMap (d_v.StrictlyOrderedMap./StrictlyOrderedMap/?keys d_v.StrictlyOrderedVec.) (d_v.StrictlyOrderedMap./StrictlyOrderedMap/?vals alloc!vec.Vec<lib!io_t.EndPoint./allocator_global%.>.) (d_v.StrictlyOrderedMap./StrictlyOrderedMap/?m Poly))) ((d_v.DM./DM (d_v.DM./DM/?lows d_v.StrictlyOrderedMap.) (d_v.DM./DM/?m Poly))) ((lib!end.pt./pt (lib!end.pt./pt/?id vstd!seq.Seq<u8.>.))) ((d_t.AD./AD (d_t.AD./AD/?0 vm.Map<lib!keys_t.SHTKey./lib!end.pt.>.))) ((lib!io_t.EndPoint./EndPoint (lib!io_t.EndPoint./EndPoint/?id alloc!vec.Vec<u8./allocator_global%.>.))) ((lib!keys_t.Ordering./Less) (lib!keys_t.Ordering./Equal) (lib!keys_t.Ordering./Greater)) ((lib!keys_t.KeyIterator./KeyIterator (lib!keys_t.KeyIterator./KeyIterator/?k core!option.Option.))) ((lib!keys_t.KeyRange./KeyRange (lib!keys_t.KeyRange./KeyRange/?lo lib!keys_t.KeyIterator.) (lib!keys_t.KeyRange./KeyRange/?hi lib!keys_t.KeyIterator.))) ((lib!keys_t.SHTKey./SHTKey (lib!keys_t.SHTKey./SHTKey/?ukey Int))) ((tuple%0./tuple%0)) ((tuple%2./tuple%2 (tuple%2./tuple%2/?0 Poly) (tuple%2./tuple%2/?1 Poly)))))
(declare-fun d_t.AD./AD/0 (d_t.AD.) vm.Map<lib!keys_t.SHTKey./lib!end.pt.>.)
(declare-fun lib!keys_t.KeyRange./KeyRange/lo (lib!keys_t.KeyRange.) lib!keys_t.KeyIterator.)
(declare-fun lib!keys_t.KeyRange./KeyRange/hi (lib!keys_t.KeyRange.) lib!keys_t.KeyIterator.)
(declare-fun TYPE%fun%1. (Dcr Type Dcr Type) Type)
(declare-fun TYPE%vm.Map. (Dcr Type Dcr Type) Type)
(declare-const TYPE%lib!end.pt. Type)
(declare-const TYPE%lib!keys_t.SHTKey. Type)
(declare-fun Poly%fun%1. (%%Function%%) Poly)
(declare-fun %Poly%fun%1. (Poly) %%Function%%)
(declare-fun Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (vm.Map<lib!keys_t.SHTKey./lib!end.pt.>.) Poly)
(declare-fun %Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly) vm.Map<lib!keys_t.SHTKey./lib!end.pt.>.)
(declare-fun Poly%d_v.DM. (d_v.DM.) Poly)
(declare-fun Poly%lib!end.pt. (lib!end.pt.) Poly)
(declare-fun Poly%d_t.AD. (d_t.AD.) Poly)
(declare-fun %Poly%d_t.AD. (Poly) d_t.AD.)
(declare-fun Poly%lib!io_t.EndPoint. (lib!io_t.EndPoint.) Poly)
(declare-fun Poly%lib!keys_t.KeyIterator. (lib!keys_t.KeyIterator.) Poly)
(declare-fun %Poly%lib!keys_t.KeyIterator. (Poly) lib!keys_t.KeyIterator.)
(declare-fun Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange.) Poly)
(declare-fun %Poly%lib!keys_t.KeyRange. (Poly) lib!keys_t.KeyRange.)
(assert (forall ((x %%Function%%)) (! (= x (%Poly%fun%1. (Poly%fun%1. x))) :pattern ((Poly%fun%1. x)))))
(declare-fun %%apply%%0 (%%Function%% Poly) Poly)
(assert (forall ((T%0&. Dcr) (T%0& Type) (T%1&. Dcr) (T%1& Type) (x %%Function%%)) (! (exists ((T%0 Poly)) (! (not (=> (has_type T%0 TYPE%lib!keys_t.SHTKey.) (has_type (%%apply%%0 x T%0) TYPE%lib!end.pt.))) :pattern ((%%apply%%0 x T%0)))) :pattern ((has_type (Poly%fun%1. (mk_fun x)) (TYPE%fun%1. T%0&. T%0& T%1&. T%1&))))))
(assert (forall ((x d_t.AD.)) (! (= (d_t.AD./AD/0 x) (d_t.AD./AD/?0 x)) :pattern ((d_t.AD./AD/0 x)))))
(assert (forall ((x lib!keys_t.KeyIterator.)) (! (= x (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. x))) :pattern ((Poly%lib!keys_t.KeyIterator. x)))))
(assert (forall ((x lib!keys_t.KeyRange.)) (! (= (lib!keys_t.KeyRange./KeyRange/lo x) (lib!keys_t.KeyRange./KeyRange/?lo x)) :pattern ((lib!keys_t.KeyRange./KeyRange/lo x)))))
(assert (forall ((x lib!keys_t.KeyRange.)) (! (= (lib!keys_t.KeyRange./KeyRange/hi x) (lib!keys_t.KeyRange./KeyRange/?hi x)) :pattern ((lib!keys_t.KeyRange./KeyRange/lo x)))))
(declare-fun vm.i0.dom.? (Dcr Type Dcr Type Poly) Poly)
(declare-fun vstd!set.i0.contains.? (Dcr Type Poly Poly) Bool)
(declare-fun vm.i0.index.? (Dcr Type Dcr Type Poly Poly) Poly)
(declare-fun vstd!set.i0.new.? (Dcr Type Dcr Type Poly) Poly)
(declare-fun vstd!set.i0.mk_map.? (Dcr Type Dcr Type Dcr Type Poly Poly) Poly)
(declare-fun lib!io_t.i4.view.? (Poly) lib!end.pt.)
(declare-fun vm.i0.new.? (Dcr Type Dcr Type Dcr Type Dcr Type Poly Poly) Poly)
(declare-fun d_v.i2.between.? (Dcr Type Poly Poly Poly) Bool)
(declare-fun lib!keys_t.i3.new_spec.? (Dcr Type Poly) lib!keys_t.KeyIterator.)
(declare-fun lib!keys_t.i4.contains.? (Dcr Type Poly Poly) Bool)
(declare-fun vm_lib.i0.union_prefer_right.? (Dcr Type Dcr Type Poly Poly) Poly)
(declare-fun d_v.i4.view.? (Dcr Type Poly) Poly)
(declare-fun d_t.i0.update.? (Poly Poly Poly) d_t.AD.)
(assert (forall ((K&. Dcr) (K& Type) (V&. Dcr) (V& Type) (self! Poly) (key! Poly)) (! (=> true (has_type (vm.i0.index.? V&. TYPE%lib!keys_t.SHTKey. V&. V& self! key!) V&)) :pattern ((vm.i0.index.? K&. K& V&. V& self! key!)))))
(assert (forall ((A&. Dcr) (A& Type) (f! Poly) (a! Poly)) (! (= (vstd!set.i0.contains.? A&. TYPE%lib!keys_t.SHTKey. (vstd!set.i0.new.? A&. TYPE%lib!keys_t.SHTKey. A&. (TYPE%fun%1. A&. TYPE%lib!keys_t.SHTKey. A&. BOOL) f!) a!) (%B (%%apply%%0 (%Poly%fun%1. f!) f!))) :pattern ((vstd!set.i0.contains.? A&. TYPE%lib!keys_t.SHTKey. (vstd!set.i0.new.? A&. TYPE%lib!keys_t.SHTKey. A&. (TYPE%fun%1. A&. A& A&. BOOL) f!) a!)))))
(assert (forall ((K&. Dcr) (K& Type) (self! Poly) (k! Poly)) (! (= (lib!keys_t.i4.contains.? K&. TYPE%lib!keys_t.SHTKey. self! k!) (d_v.i2.between.? K&. TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyIterator. (lib!keys_t.KeyRange./KeyRange/lo (%Poly%lib!keys_t.KeyRange. self!))) (Poly%lib!keys_t.KeyIterator. (lib!keys_t.i3.new_spec.? K&. TYPE%lib!keys_t.SHTKey. self!)) (Poly%lib!keys_t.KeyIterator. (lib!keys_t.KeyRange./KeyRange/hi (%Poly%lib!keys_t.KeyRange. self!))))) :pattern ((lib!keys_t.i4.contains.? K&. K& self! k!)))))
(declare-fun %%lambda%%1 (Dcr Type Poly Dcr Type Poly) %%Function%%)
(declare-fun %%lambda%%2 (Dcr Type Poly Dcr Type Dcr Type Poly Dcr Type Dcr Type Poly) %%Function%%)
(assert (forall ((%%hole%%0 Dcr) (%%hole%%1 Type) (%%hole%%2 Poly) (%%hole%%3 Dcr) (%%hole%%4 Type) (%%hole%%5 Dcr) (%%hole%%6 Type) (%%hole%%7 Poly) (%%hole%%8 Dcr) (%%hole%%9 Type) (%%hole%%10 Dcr) (%%hole%%11 Type) (%%hole%%12 Poly) (k$ Poly)) (! (= (%%apply%%0 (%%lambda%%2 %%hole%%3 TYPE%lib!keys_t.SHTKey. %%hole%%2 %%hole%%8 TYPE%lib!keys_t.SHTKey. %%hole%%8 TYPE%lib!end.pt. %%hole%%7 %%hole%%8 TYPE%lib!keys_t.SHTKey. %%hole%%5 TYPE%lib!end.pt. %%hole%%12) k$) (ite (vstd!set.i0.contains.? %%hole%%3 TYPE%lib!keys_t.SHTKey. %%hole%%2 k$) (vm_lib.i0.union_prefer_right.? %%hole%%8 TYPE%lib!end.pt. %%hole%%8 TYPE%lib!end.pt. k$ k$) (vm.i0.index.? %%hole%%8 TYPE%lib!keys_t.SHTKey. %%hole%%5 TYPE%lib!end.pt. %%hole%%2 k$))) :pattern ((%%apply%%0 (%%lambda%%2 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5 %%hole%%6 %%hole%%7 %%hole%%8 %%hole%%9 %%hole%%10 %%hole%%11 %%hole%%12) k$)))))
(declare-fun %%lambda%%3 (Dcr Type Poly) %%Function%%)
(assert (forall ((%%hole%%0 Dcr) (%%hole%%1 Type) (%%hole%%2 Poly) (k$ Poly)) (! (= (%%apply%%0 (%%lambda%%3 %%hole%%0 TYPE%lib!keys_t.SHTKey. %%hole%%2) k$) (B (lib!keys_t.i4.contains.? %%hole%%0 TYPE%lib!keys_t.SHTKey. %%hole%%2 k$))) :pattern ((%%apply%%0 (%%lambda%%3 %%hole%%0 %%hole%%1 %%hole%%2) k$)))))
(declare-fun %%lambda%%4 (Poly) %%Function%%)
(declare-const pre! d_v.DM.)
(declare-const lo! lib!keys_t.KeyIterator.)
(declare-const hi! lib!keys_t.KeyIterator.)
(declare-const dst! lib!io_t.EndPoint.)
(assert (forall ((ki$ Poly)) (! (=> (d_v.i2.between.? $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyIterator. lo!) ki$ (Poly%lib!keys_t.KeyIterator. hi!)) false) :pattern ((d_v.i2.between.? $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyIterator. lo!) ki$ (Poly%lib!keys_t.KeyIterator. lo!))))))
(assert (= (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!))) (%Poly%lib!keys_t.KeyRange. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))))
(assert (not (has_type (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.i0.update.? (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly%d_v.DM. pre!)))) (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))) (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!)))))))) (TYPE%vm.Map. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.))))
(assert (= (d_t.i0.update.? (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly%d_v.DM. pre!)))) (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))) (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!)))) (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!))))))))))))
(assert (= (vm.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!)))))) (vstd!set.i0.mk_map.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (vstd!set.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!))))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!))))))))
(assert (= (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!)))))))) (Poly%fun%1. (mk_fun (%%lambda%%2 $ TYPE%lib!keys_t.SHTKey. (vm.i0.dom.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (vm.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!))))))) $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (vm.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!)))))) $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!)))))))))))))
(assert (= (vm.i0.dom.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (vstd!set.i0.mk_map.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (vstd!set.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!))))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!))))))) (vstd!set.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))))))
(assert (=> (and true (has_type (Poly%fun%1. (%%lambda%%2 $ TYPE%lib!keys_t.SHTKey. (vm.i0.dom.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (vm.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!))))))) $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (vm.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!)))))) $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!)))))))))) (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.))) (has_type (Poly%fun%1. (%%lambda%%1 $ TYPE%lib!keys_t.SHTKey. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly%d_v.DM. pre!))))))) $ TYPE%lib!keys_t.SHTKey. (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))))) (TYPE%vm.Map. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.))))
(assert (= (Poly%fun%1. (%%lambda%%1 $ TYPE%lib!keys_t.SHTKey. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!)))))))) $ TYPE%lib!keys_t.SHTKey. (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))))) (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (vm.i0.new.? $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ BOOL) $ (TYPE%fun%1. $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt.) (Poly%fun%1. (%%lambda%%1 $ TYPE%lib!keys_t.SHTKey. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!)))))))) $ TYPE%lib!keys_t.SHTKey. (Poly%fun%1. (%%lambda%%4 (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!))))))) (Poly%fun%1. (%%lambda%%2 $ TYPE%lib!keys_t.SHTKey. (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (Poly%fun%1. (%%lambda%%3 $ TYPE%lib!keys_t.SHTKey. (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))))) $ TYPE%lib!keys_t.SHTKey. $ TYPE%lib!end.pt. (Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_t.AD./AD/0 (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (d_v.i4.view.? $ TYPE%lib!keys_t.SHTKey. (Poly%d_v.DM. pre!)))))))))))))))
(assert (= (d_t.i0.update.? (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly%d_v.DM. pre!)))) (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))) (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!)))) (%Poly%d_t.AD. (Poly%d_t.AD. (d_t.i0.update.? (Poly%d_t.AD. (d_t.AD./AD (%Poly%vm.Map<lib!keys_t.SHTKey./lib!end.pt.>. (Poly%d_v.DM. pre!)))) (Poly%lib!keys_t.KeyRange. (lib!keys_t.KeyRange./KeyRange (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. lo!)) (%Poly%lib!keys_t.KeyIterator. (Poly%lib!keys_t.KeyIterator. hi!)))) (Poly%lib!end.pt. (lib!io_t.i4.view.? (Poly%lib!io_t.EndPoint. dst!))))))))
(check-sat)
