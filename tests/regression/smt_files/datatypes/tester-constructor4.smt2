(declare-sort % 0)
(declare-sort P 0)
(declare-fun B (Bool) P)
(declare-fun %B (P) Bool)
(assert (forall ((x Bool)) (! (= x (%B (B true))) :pattern ((B x)))))
(declare-datatypes ((s 0)) (((CRed) (CGreen) (CBlue))))
(declare-fun Poly%C. (s) P)
(declare-fun %Poly%C. (P) s)
(declare-fun % (%) P)
(declare-fun %% (s) %)
(declare-const t %)
(assert (= (% t) (B (= CGreen CRed))))
(check-sat)
