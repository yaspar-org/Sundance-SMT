(declare-sort % 0)
(declare-sort P 0)
(declare-fun I (Int) P)
(declare-const h P)
(declare-fun B (Bool) P)
(declare-fun % (P) Bool)
(declare-sort T 0)
(declare-sort D 0)
(assert (forall ((x Bool)) (! (= x (% (B false))) :pattern ((B x)))))
(declare-sort c 0)
(declare-sort o 0)
(declare-datatypes ((l 0)) (((i (li %) (b o)))))
(declare-const m %)
(declare-sort i 0)
(declare-const t i)
(declare-fun c (P) c)
(declare-fun N (l) %)
(declare-const L T)
(declare-fun P (%) P)
(declare-fun %P (P) %)
(declare-fun o (P) c)
(declare-const u o)
(declare-fun Y (l) P)
(declare-fun %Y (P) l)
(declare-fun ol (i) P)
(declare-const j c)
(declare-fun %% (% P) P)
(declare-fun l (D T) o)
(declare-const q o)
(declare-const M D)
(declare-const k Int)
(declare-fun %l (c) %)
(declare-const lh %)
(assert (forall ((h c) (s P)) (! (= (B true) (%% (%l h) s)) :pattern ((%% (%l h) s)))))
(assert (= (%l j) m))
;(assert (= (N (%Y (Y (i m u)))) (li (i m u))))
(declare-const s P)
(assert (= (i m u) (%Y (Y (i m u)))))
(declare-const tt P)
(assert (= tt (%% (li (i m u)) s)))


;(assert (= (li (i (%P (P (%l (I 0) j))) u)) (%P (P (%l (I 0) j)))))
;(assert (= (b (i (%P (P (%l (I 0) j))) u)) u))

; adding these two is necessary
;(assert (= (li (i m u)) m))
;(assert (= (b (i m u)) u))

;(assert (= (%Y (Y r)) (i (li (%Y (Y r))) (b (%Y (Y r))))))
(check-sat)
