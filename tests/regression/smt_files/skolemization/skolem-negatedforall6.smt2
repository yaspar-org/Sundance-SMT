(set-option :auto_config false)
(set-option :smt.mbqi false)
(declare-sort %% 0)
(declare-sort Fu 0)
(declare-fun fuel_bool (Fu) Bool)
(declare-fun fuel_bool_default (Fu) Bool)
(assert (or false (forall ((id Fu)) (! (= (fuel_bool id) (fuel_bool_default id)) :pattern ((fuel_bool id)) ))))
(declare-sort Poly 0)
(declare-fun B (Bool) Poly)
(declare-fun %B (Poly) Bool)
(declare-sort T 0)
(declare-const BOOL T)
(declare-sort D 0)
(declare-const $ D)
(declare-fun has_type (Poly T) Bool)
(declare-fun sized (D) Bool)
(declare-fun mk_fun (%%) %%)
(assert (forall ((b Bool)) (! (has_type (B b) BOOL) :pattern ((has_type (B b) BOOL)) )))
;(assert (forall ((x %%)) (! (= (mk_fun x) x) :pattern ((mk_fun x)) )))
(assert (forall ((x Poly)) (! (=> (has_type x BOOL) (= x (B (%B x)))) :pattern ((has_type x BOOL)) )))
(declare-fun ext_eq (Bool T Poly Poly) Bool)
(declare-const fuel%vstd!set.axiom_set_new. Fu)
(declare-const fuel%vstd!set.axiom_set_ext_equal. Fu)
(declare-const fuel%set_membership!set_union. Fu)
(declare-const fuel%set_membership!set_intersection. Fu)
(declare-const fuel%set_membership!set_difference. Fu)
(assert (and (fuel_bool_default fuel%vstd!set.axiom_set_new.) (fuel_bool_default fuel%vstd!set.axiom_set_ext_equal.) (fuel_bool_default fuel%vstd!set.axiom_set_new.)))
(declare-fun TYPE%fun%1. (D T D T) T)
(declare-fun TYPE%vstd!set.Set. (D T) T)
(declare-fun Poly%fun%1. (%%) Poly)
(declare-fun %Poly%fun%1. (Poly) %%)
;(assert (forall ((x %%)) (! (= x (%Poly%fun%1. (Poly%fun%1. x))) :pattern ((Poly%fun%1. x)) )))
(declare-fun %%apply%%0 (%% Poly) Poly)
(assert (forall ((T%0&. D) (T%0& T) (T%1&. D) (T%1& T) (x %%)) (! (=> (forall ((T%0 Poly)) (! (=> (has_type T%0 T%0&) (has_type (%%apply%%0 x T%0) T%1&)) :pattern ((has_type (%%apply%%0 x T%0) T%1&)) )) (has_type (Poly%fun%1. (mk_fun x)) (TYPE%fun%1. T%0&. T%0& T%1&. T%1&))) :pattern ((has_type (Poly%fun%1. (mk_fun x)) (TYPE%fun%1. T%0&. T%0& T%1&. T%1&))) )))
(declare-fun vstd!set.Set.contains.? (D T Poly Poly) Bool)
(declare-fun vstd!set.impl&%0.new.? (D T Poly) Poly)
(declare-fun set_membership!is_member.? (D T Poly Poly) Bool)
(declare-fun set_membership!set_union.? (D T Poly Poly) Poly)
(declare-fun set_membership!set_intersection.? (D T Poly Poly) Poly)
(declare-fun set_membership!set_difference.? (D T Poly Poly) Poly)
(assert (or (not (fuel_bool fuel%vstd!set.axiom_set_new.)) (forall ((A&. D) (A& T) (f! Poly) (a! Poly)) (! (=> (and (has_type f! (TYPE%fun%1. A&. A& $ BOOL)) (has_type a! A&)) (=> (sized A&.) (= (vstd!set.Set.contains.? A&. A& (vstd!set.impl&%0.new.? A&. A& f!) a!) (%B (%%apply%%0 (%Poly%fun%1. f!) a!))))) :pattern ((vstd!set.Set.contains.? A&. A& (vstd!set.impl&%0.new.? A&. A& f!) a!)) ))))
;(assert (or (not (fuel_bool fuel%vstd!set.axiom_set_ext_equal.)) (forall ((A&. D) (A& T) (s1! Poly) (s2! Poly)) (! (=> (and (has_type s1! (TYPE%vstd!set.Set. A&. A&)) (has_type s2! (TYPE%vstd!set.Set. A&. A&))) (=> (sized A&.) (= (ext_eq false (TYPE%vstd!set.Set. A&. A&) s1! s2!) (forall ((a$ Poly)) (! (=> (has_type a$ A&) (= (vstd!set.Set.contains.? A&. A& s1! a$) (vstd!set.Set.contains.? A&. A& s2! a$))) :pattern ((vstd!set.Set.contains.? A&. A& s1! a$)) :pattern ((vstd!set.Set.contains.? A&. A& s2! a$)) ))))) :pattern ((ext_eq false (TYPE%vstd!set.Set. A&. A&) s1! s2!)) ))))
;(assert (fuel_bool_default fuel%set_membership!set_union.))
(declare-fun %%lambda%%0 (D T Poly D T Poly) %%)
(assert (forall ((%%hole%%0 D) (%%hole%%1 T) (%%hole%%2 Poly) (%%hole%%3 D) (%%hole%%4 T) (%%hole%%5 Poly) (x$ Poly)) (! (= (%%apply%%0 (%%lambda%%0 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5) x$) (B (or (vstd!set.Set.contains.? %%hole%%0 %%hole%%1 %%hole%%2 x$) (vstd!set.Set.contains.? %%hole%%3 %%hole%%4 %%hole%%5 x$)))) :pattern ((%%apply%%0 (%%lambda%%0 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5) x$)))))
;(assert (or (not (fuel_bool fuel%set_membership!set_union.)) (forall ((T&. D) (T& T) (s1! Poly) (s2! Poly)) (! (= (set_membership!set_union.? T&. T& s1! s2!) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%0 T&. T& s1! T&. T& s2!))))) :pattern ((set_membership!set_union.? T&. T& s1! s2!)) ))))
;(assert (forall ((T&. D) (T& T) (s1! Poly) (s2! Poly)) (! (=> (and (has_type s1! (TYPE%vstd!set.Set. T&. T&)) (has_type s2! (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_union.? T&. T& s1! s2!) (TYPE%vstd!set.Set. T&. T&))) :pattern ((set_membership!set_union.? T&. T& s1! s2!)) )))
(assert (fuel_bool_default fuel%set_membership!set_intersection.))
(declare-fun %%lambda%%1 (D T Poly D T Poly) %%)
(assert (forall ((%%hole%%0 D) (%%hole%%1 T) (%%hole%%2 Poly) (%%hole%%3 D) (%%hole%%4 T) (%%hole%%5 Poly) (x$ Poly)) (! (= (%%apply%%0 (%%lambda%%1 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5) x$) (B (and (vstd!set.Set.contains.? %%hole%%0 %%hole%%1 %%hole%%2 x$) (vstd!set.Set.contains.? %%hole%%3 %%hole%%4 %%hole%%5 x$)))) :pattern ((%%apply%%0 (%%lambda%%1 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5) x$)))))
;(assert (or (not (fuel_bool fuel%set_membership!set_intersection.)) (forall ((T&. D) (T& T) (s1! Poly) (s2! Poly)) (! (= (set_membership!set_intersection.? T&. T& s1! s2!) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s2!))))) :pattern ((set_membership!set_intersection.? T&. T& s1! s2!)) ))))
;(assert (forall ((T&. D) (T& T) (s1! Poly) (s2! Poly)) (! (=> (and (has_type s1! (TYPE%vstd!set.Set. T&. T&)) (has_type s2! (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_intersection.? T&. T& s1! s2!) (TYPE%vstd!set.Set. T&. T&))) :pattern ((set_membership!set_intersection.? T&. T& s1! s2!)) )))
(declare-fun %%lambda%%2 (D T Poly D T Poly) %%)
;(assert (forall ((%%hole%%0 D) (%%hole%%1 T) (%%hole%%2 Poly) (%%hole%%3 D) (%%hole%%4 T) (%%hole%%5 Poly) (x$ Poly)) (! (= (%%apply%%0 (%%lambda%%2 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5) x$) (B (and (vstd!set.Set.contains.? %%hole%%0 %%hole%%1 %%hole%%2 x$) (not (vstd!set.Set.contains.? %%hole%%3 %%hole%%4 %%hole%%5 x$))))) :pattern ((%%apply%%0 (%%lambda%%2 %%hole%%0 %%hole%%1 %%hole%%2 %%hole%%3 %%hole%%4 %%hole%%5) x$)))))
;(assert (or (not (fuel_bool fuel%set_membership!set_difference.)) (forall ((T&. D) (T& T) (s1! Poly) (s2! Poly)) (! (= (set_membership!set_difference.? T&. T& s1! s2!) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%2 T&. T& s1! T&. T& s2!))))) :pattern ((set_membership!set_difference.? T&. T& s1! s2!)) ))))
;(assert (forall ((T&. D) (T& T) (s1! Poly) (s2! Poly)) (! (=> (and (has_type s1! (TYPE%vstd!set.Set. T&. T&)) (has_type s2! (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_difference.? T&. T& s1! s2!) (TYPE%vstd!set.Set. T&. T&))) :pattern ((set_membership!set_difference.? T&. T& s1! s2!)) )))
(declare-fun ens%set_membership!union_membership_lemma. (D T Poly Poly Poly) Bool)
;(assert (forall ((T&. D) (T& T) (x! Poly) (s1! Poly) (s2! Poly)) (! (= (ens%set_membership!union_membership_lemma. T&. T& x! s1! s2!) (=> (and (set_membership!is_member.? T&. T& x! (set_membership!set_union.? T&. T& s1! s2!)) (not (set_membership!is_member.? T&. T& x! s1!))) (set_membership!is_member.? T&. T& x! s2!))) :pattern ((ens%set_membership!union_membership_lemma. T&. T& x! s1! s2!)) )))
(declare-const T&. D)
(declare-const T& T)
(declare-const s1! Poly)
(declare-const s2! Poly)
(declare-const s3! Poly)
(assert (sized T&.))
(assert (has_type s1! (TYPE%vstd!set.Set. T&. T&)))
(assert (has_type s2! (TYPE%vstd!set.Set. T&. T&)))
(assert (has_type s3! (TYPE%vstd!set.Set. T&. T&)))
(assert (and (not (ext_eq false (TYPE%vstd!set.Set. T&. T&) (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!))))))
;(assert (= (fuel_bool fuel%vstd!set.axiom_set_new.) (fuel_bool_default fuel%vstd!set.axiom_set_new.)))
;(assert (= (fuel_bool fuel%vstd!set.axiom_set_ext_equal.) (fuel_bool_default fuel%vstd!set.axiom_set_ext_equal.)))
;(assert (= (fuel_bool fuel%set_membership!set_union.) (fuel_bool_default fuel%set_membership!set_union.)))
;(assert (= (fuel_bool fuel%set_membership!set_intersection.) (fuel_bool_default fuel%set_membership!set_intersection.)))
;(assert (= (fuel_bool fuel%set_membership!set_difference.) (fuel_bool_default fuel%set_membership!set_difference.)))
(assert (=> (and (has_type (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) (TYPE%vstd!set.Set. T&. T&)) (has_type (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!)) (TYPE%vstd!set.Set. T&. T&))) (=> (sized T&.) (= (ext_eq false (TYPE%vstd!set.Set. T&. T&) (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!))) (forall ((a$ Poly)) (! (=> (has_type a$ T&) (= (vstd!set.Set.contains.? T&. T& (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) a$) (vstd!set.Set.contains.? T&. T& (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!)) a$))) :pattern ((vstd!set.Set.contains.? T&. T& (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) a$)) :pattern ((vstd!set.Set.contains.? T&. T& (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!)) a$))))))))
(assert (= (set_membership!set_union.? T&. T& s2! s3!) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%0 T&. T& s2! T&. T& s3!))))))
(assert (= (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!)) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%0 T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) T&. T& (set_membership!set_intersection.? T&. T& s1! s3!)))))))
(assert (=> (and (has_type s2! (TYPE%vstd!set.Set. T&. T&)) (has_type s3! (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_union.? T&. T& s2! s3!) (TYPE%vstd!set.Set. T&. T&))))
(assert (=> (and (has_type (set_membership!set_intersection.? T&. T& s1! s2!) (TYPE%vstd!set.Set. T&. T&)) (has_type (set_membership!set_intersection.? T&. T& s1! s3!) (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_union.? T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) (set_membership!set_intersection.? T&. T& s1! s3!)) (TYPE%vstd!set.Set. T&. T&))))
(assert (= (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& (set_membership!set_union.? T&. T& s2! s3!)))))))
(assert (= (set_membership!set_intersection.? T&. T& s1! s2!) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s2!))))))
(assert (= (set_membership!set_intersection.? T&. T& s1! s3!) (vstd!set.impl&%0.new.? T&. T& (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s3!))))))
(assert (=> (and (has_type s1! (TYPE%vstd!set.Set. T&. T&)) (has_type (set_membership!set_union.? T&. T& s2! s3!) (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_intersection.? T&. T& s1! (set_membership!set_union.? T&. T& s2! s3!)) (TYPE%vstd!set.Set. T&. T&))))
(assert (=> (and (has_type s1! (TYPE%vstd!set.Set. T&. T&)) (has_type s2! (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_intersection.? T&. T& s1! s2!) (TYPE%vstd!set.Set. T&. T&))))
(assert (=> (and (has_type s1! (TYPE%vstd!set.Set. T&. T&)) (has_type s3! (TYPE%vstd!set.Set. T&. T&))) (has_type (set_membership!set_intersection.? T&. T& s1! s3!) (TYPE%vstd!set.Set. T&. T&))))
(assert (= (mk_fun (%%lambda%%0 T&. T& s2! T&. T& s3!)) (%%lambda%%0 T&. T& s2! T&. T& s3!)))
(assert (= (mk_fun (%%lambda%%0 T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) T&. T& (set_membership!set_intersection.? T&. T& s1! s3!))) (%%lambda%%0 T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) T&. T& (set_membership!set_intersection.? T&. T& s1! s3!))))
(assert (= (mk_fun (%%lambda%%1 T&. T& s1! T&. T& (set_membership!set_union.? T&. T& s2! s3!))) (%%lambda%%1 T&. T& s1! T&. T& (set_membership!set_union.? T&. T& s2! s3!))))
(assert (= (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s2!)) (%%lambda%%1 T&. T& s1! T&. T& s2!)))
(assert (= (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s3!)) (%%lambda%%1 T&. T& s1! T&. T& s3!)))
(assert (= (mk_fun (%%lambda%%0 T&. T& s2! T&. T& s3!)) (%Poly%fun%1. (Poly%fun%1. (mk_fun (%%lambda%%0 T&. T& s2! T&. T& s3!))))))
(assert (= (mk_fun (%%lambda%%0 T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) T&. T& (set_membership!set_intersection.? T&. T& s1! s3!))) (%Poly%fun%1. (Poly%fun%1. (mk_fun (%%lambda%%0 T&. T& (set_membership!set_intersection.? T&. T& s1! s2!) T&. T& (set_membership!set_intersection.? T&. T& s1! s3!)))))))
(assert (= (mk_fun (%%lambda%%1 T&. T& s1! T&. T& (set_membership!set_union.? T&. T& s2! s3!))) (%Poly%fun%1. (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& (set_membership!set_union.? T&. T& s2! s3!)))))))
(assert (= (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s2!)) (%Poly%fun%1. (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s2!))))))
(assert (= (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s3!)) (%Poly%fun%1. (Poly%fun%1. (mk_fun (%%lambda%%1 T&. T& s1! T&. T& s3!))))))
(check-sat)
