(declare-sort %% 0)
(declare-sort P 0)
(declare-fun I (Int) P)
(declare-fun B (Bool) P)
(declare-fun % (P) Int)
(declare-sort T 0)
(declare-const O T)
(declare-sort D 0)
(declare-const $ D)
(declare-fun h (P T) Bool)
;(assert (forall ((x Int)) (! (= x (% (I x))) :pattern ((I x)))))
(declare-sort v 0)
(declare-datatypes ((c 0) (li 0) (lib!spe 0) (lib!exec.MiniAllocator_v.PageAllocator. 0) (lib!exec.MiniAllocator_v.MiniAllocator. 0) (tuple%0. 0)) (((core!option.Option./Some (core!option.Option./Some/?0 v))) ((lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator/?observed v) (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator/?reserved v) (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator/?au Int))) ((lib!spec.AsyncDisk_t.Address./Address (lib!spec.AsyncDisk_t.Address./Address/?au Int) (lib!spec.AsyncDisk_t.Address./Address/?page Int))) ((lib!exec.MiniAllocator_v.PageAllocator./PageAllocator (lib!exec.MiniAllocator_v.PageAllocator./PageAllocator/?observed Int) (lib!exec.MiniAllocator_v.PageAllocator./PageAllocator/?reserved Int) (lib!exec.MiniAllocator_v.PageAllocator./PageAllocator/?au Int))) ((lib!exec.MiniAllocator_v.MiniAllocator./MiniAllocator (lib!exec.MiniAllocator_v.MiniAllocator./MiniAllocator/?allocs c))) ((tuple%0./tuple%0))))
(declare-fun l (li) v)
(declare-fun i (li) v)
(declare-fun b (lib!spe) Int)
(declare-fun li (lib!exec.MiniAllocator_v.PageAllocator.) Int)
(declare-fun ib (lib!exec.MiniAllocator_v.PageAllocator.) Int)
(declare-fun ib!e (lib!exec.MiniAllocator_v.PageAllocator.) Int)
(declare-fun Y (D T D T) T)
(declare-fun T (D T) T)
(declare-const TY T)
(declare-const YP T)
(declare-fun P (%%) P)
(declare-fun %P (P) %%)
(declare-fun ol (v) P)
(declare-fun Po (P) v)
(declare-fun Pol (li) P)
(declare-fun ly% (P) li)
(declare-fun %Po (P) lib!spe)
(declare-fun o (lib!exec.MiniAllocator_v.PageAllocator.) P)
(declare-fun ly (P) lib!exec.MiniAllocator_v.PageAllocator.)
;(assert (forall ((x %%)) (! (= x (%P (P x))) :pattern ((P x)))))
(declare-fun %% (%% P) P)
;(assert (forall ((x P)) (! (= x (ol (Po x))) :pattern ((h x (T $ TY))))))
(declare-fun v (D T P) P)
(declare-fun vs (D T P P) Bool)
(declare-fun vst (D T D T P) P)
(declare-fun lib (P) Int)
(declare-fun ib! (P P P) v)
;(assert (forall ((& D) (A T) (. D) (F& T) (f P)) (! (or false (h (vst . TY . F& f) (T . TY))) :pattern ((vst & A . F& f)))))
;(assert (or false (forall ((& D) (A T) (f P) (a P)) (! (= (%% (%P f) f) (vst & TY & (Y & TY & O) f)) :pattern ((vs & TY (vst & TY & (Y & A & O) f) a))))))
(declare-fun %l (Int Int Int) %%)
;(assert (forall ((% Int) (%%hole%%1 Int) (%%hole%%2 Int) (addr$ P)) (! (= (%% (%l % 0 %%hole%%2) addr$) (B (and false (and false (= 0 (b (%Po addr$))))))) :pattern ((%% (%l % %%hole%%1 %%hole%%2) addr$)))))
(declare-const e lib!exec.MiniAllocator_v.PageAllocator.)
(declare-const s lib!exec.MiniAllocator_v.PageAllocator.)
(assert (= (l (ly% (v $ YP (o e)))) (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator/?observed (ly% (v $ YP (o e))))))
(assert (= (i (ly% (v $ YP (o e)))) (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator/?reserved (ly% (v $ YP (o e))))))
(assert (= (v $ YP (o e)) (Pol (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator (Po (ol (ib! (I (ib!e (ly (o s)))) (I 0) (I (li (ly (o e))))))) (Po (ol (ib! (I (ib!e (ly (o s)))) (I 0) (I (ib (ly (o e))))))) (% (I (ib!e (ly (o s)))))))))
(assert (= (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator (Po (ol (ib! (I (ib!e (ly (o s)))) (I 0) (I (li (ly (o e))))))) (Po (ol (ib! (I (ib!e (ly (o s)))) (I 0) (I (ib (ly (o e))))))) (lib (I (li (ly (o s)))))) (ly% (Pol (lib!allocation_layer.MiniAllocator_v.PageAllocator./PageAllocator (Po (ol (ib! (I (ib!e (ly (o s)))) (I 0) (I (li (ly (o e))))))) (Po (ol (ib! (I (ib!e (ly (o s)))) (I 0) (I (ib (ly (o e))))))) (% (I (ib!e (ly (o s))))))))))
(assert (= (ib! (I (ib!e (ly (o s)))) (I 0) (I (li (ly (o e))))) (Po (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))))))
(declare-const _s P)
(assert (not (vs $ TY (ol (l (ly% (v $ YP (o e))))) _s)))
(assert (or false (vs $ TY (ol (l (ly% (v $ YP (o e))))) _s) (vs $ TY (ol (i (ly% (v $ YP (o e))))) _s)))
(assert (= (ib! (I (ib!e (ly (o s)))) (I 0) (I (ib (ly (o e))))) (Po (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))))))
(assert (= (ib!e (ly (o s))) (% (I (ib!e (ly (o s)))))))
(assert (= 0 (% (I 0))))
(assert (= (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))) (%P (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s))))))))))
(assert (= (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))) (%P (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s))))))))))
(assert (or false (h (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))) (T $ TY))))
(assert (or false (h (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))) (T $ TY))))
(assert (= (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))) (ol (Po (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s))))))))))))
(assert (= (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))) (ol (Po (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s))))))))))))
(assert (= (%% (%P (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))) (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s))))))))))
(assert (= (%% (%P (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))) (vst $ TY $ (Y $ TY $ O) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s))))))))))
(assert (= (%% (%l (lib (I (li (ly (o s))))) 0 (lib (I (li (ly (o s)))))) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))) (B (and false (and false (= 0 (b (%Po (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (li (ly (o s)))))))))))))))
(assert (= (%% (%l (lib (I (li (ly (o s))))) 0 (lib (I (ib!e (ly (o s)))))) (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))) (B (and false (and false (= 0 (b (%Po (P (%l (lib (I (li (ly (o s))))) (% (I 0)) (lib (I (ib!e (ly (o s)))))))))))))))

(check-sat)
